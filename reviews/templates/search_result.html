{% extends "base.html" %}

{% block title %}検索結果{% endblock %}

{% block content %}
<div class="flex justify-center my-8">
    <div class="w-full max-w-lg">
        <h1 class="text-2xl font-bold mb-4">検索結果</h1>

        {% if works %}
            <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
                <ul>
                    {% for work in works %}
                        <li class="mb-4">
                            <h3 class="text-xl font-semibold">{{ work.title }}{% if work.sub_title %}: {{ work.sub_title }}{% endif %}</h3>
                            <p>著者:  {{ work.author.last_name }} {{ work.author.first_name }}</p>
                            <p>公開日: {{ work.release_date | date:"Y-m-d"  }}</p>
                            {% if work.html_file_url %}
                            <p>ブラウザ閲覧URL: <a href="{{ work.html_file_url }}" class="text-blue-500">{{ work.html_file_url }}</a></p>
                            {% else %}
                            <p>テキストファイルダウンロードURL: <a href="{{ work.text_file_url }}" class="text-blue-500">{{ work.text_file_url }}</a></p>
                            {% endif %}
                        </li>
                    {% endfor %}
                </ul>
            </div>
        {% else %}
            <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
                <p class="text-red-500">該当する作品が見つかりませんでした。</p>
            </div>
        {% endif %}
        <a href="{% url 'index' %}" class="text-blue-500">検索に戻る</a>
    </div>
</div>
{% endblock %}