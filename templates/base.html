<!doctype html>
<html lang="ja">
{% load static tailwind_tags %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <style>
        body, html {
            height: 100%;
        }
        .content {
            min-height: calc(100vh - 400px);
        }
        .footer {
            height: 100px;
        }
        .btn-inset-shadow {
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.6);
        }
        .spoiler {
              filter: blur(5px);
              transition: filter 0.3s;
            }
        
        .spoiler.visible {
              filter: none;
        }
    </style>
   {% tailwind_css %}
    <title>{% block title %}Aozora Bunko Reviews{% endblock %}</title>
</head>
<body class="height: 100% m-0 flex flex-col">
    {% load static %}
    <header class="flex bg-blue-600 px-2 md:px-20 py-4 gap-4 flex-row justify-between items-center">
        <a href="{% url 'index' %}"><img src="{% static 'site_logo.png' %}" alt="サイトのロゴ"></a>

        <nav id="menu" class="hidden md:flex md:items-center text-sm gap-1">
            {% if user.is_authenticated %}
                <a href="{% url 'profile' %}" class="btn-inset-shadow text-white p-2  rounded-lg rounded-bl-lg hover:bg-blue-400">プロフィール</a>
                <form id="logout-form" action="{% url 'account_logout' %}" method="post" class="inline">
                    {% csrf_token %}
                    <button type="submit" class="btn-inset-shadow text-white p-2  rounded-lg rounded-br-lg hover:bg-blue-400">ログアウト</button>
                </form>
            {% else %}
                <a href="{% url 'account_login' %}?next={{ request.get_full_path|urlencode }}" class="btn-inset-shadow text-white p-2 rounded-lg hover:bg-blue-400">ログイン</a>
                <a href="{% url 'account_signup' %}" class="btn-inset-shadow text-white p-2 rounded-lg hover:bg-blue-400">サインアップ</a>
            {% endif %}
        </nav>
            </header>

    <div id="mobile-menu" class="hidden md:hidden flex flex-col justify-center items-end bg-blue-700">
            {% if user.is_authenticated %}
                <hr/>
            <a href="{% url 'profile' %}" class="block text-white p-2 text-center w-full hover:bg-blue-800">プロフィール</a>
                  <hr/>
            <form id="mobile-logout-form" action="{% url 'account_logout' %}" method="post" class="block">
                {% csrf_token %}
              
                <button type="submit" class="relative text-white text-center p-2 w-full hover:bg-blue-800">ログアウト</button>
            <hr/>
            </form>
            {% else %}
                <hr/>
            <a href="{% url 'account_login' %}?next={{ request.get_full_path|urlencode }}" class="block text-white p-2 text-center w-full hover:bg-blue-800">ログイン</a>
                <hr/>
            <a href="{% url 'account_signup' %}" class="block text-white p-2 text-center w-full hover:bg-blue-800">サインアップ</a>
                <hr/>
            {% endif %}
    </div>
    
{% include "message.html" %}
{% block content %}
    <div class="flex 1">
    
    </div>
{% endblock %}
<script>
document.getElementById('menu-button').addEventListener('click', function () {
    var menu = document.getElementById('mobile-menu');
    if (menu.style.display === 'none' || menu.style.display === '') {
        menu.style.display = 'block';
    } else {
        menu.style.display = 'none';
    }
});
</script>
<div class="mt-auto h-[30px] bg-blue-800 flex justify-between text-white md:px-20 pt-2 pb-4 text-sm">
    <div>Copyright © Hiroaki Satou</div>
    <div class="flex gap-4 ">
        <a class="text-white hover:text-neutral-300 active:text-neutral-600" href="{% url 'index' %}">Home</a>
        <a class="text-white hover:text-neutral-300 active:text-neutral-600" href="{% url 'about' %}">サイト運営者について</a>
    </div>
</div>
</body>
</html>